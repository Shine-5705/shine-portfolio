---
import { SEO as AstroSEO } from "astro-seo";

export interface Props {
  title?: string;
  description?: string;
  image?: string;
  canonical?: string;
  noindex?: boolean;
  nofollow?: boolean;
}

const {
  title = "Shine Gupta - Data Scientist & Analytics Expert",
  description = "Passionate data scientist specializing in machine learning, statistical analysis, and data visualization. Transforming data into insights.",
  image = "/og-image.jpeg",
  canonical,
  noindex = false,
  nofollow = false,
} = Astro.props;

const siteName = "Shine Gupta Portfolio";
const siteUrl = "https://shine-portfolio-new.netlify.app";
const author = "Shine Gupta";
const twitterHandle = "@shine_gupta17";
const linkedinProfile = "https://www.linkedin.com/in/shine-gupta-62b22b264/";

const personSchema = {
  "@context": "https://schema.org",
  "@type": "Person",
  name: author,
  url: siteUrl,
  image: `${siteUrl}${image}`,
  jobTitle: "Data Scientist",
  worksFor: {
    "@type": "Organization",
    name: "Amply Pvt Ltd",
  },
  alumniOf: {
    "@type": "EducationalOrganization",
    name: "University of Data Science",
  },
  knowsAbout: [
    "Machine Learning",
    "Statistical Analysis",
    "Data Visualization",
    "Python",
    "R",
    "SQL",
    "Deep Learning",
    "Business Intelligence"
  ],
  sameAs: [
    linkedinProfile,
    `https://x.com/shine_gupta17`,
    `https://github.com/Shine-5705`,
  ]
};

const websiteSchema = {
  "@context": "https://schema.org",
  "@type": "WebSite",
  name: siteName,
  url: siteUrl,
  description: description,
  author: {
    "@type": "Person",
    name: author
  }
};
---

<AstroSEO
    title={title}
    description={description}
    canonical={canonical || siteUrl}
    noindex={noindex}
    nofollow={nofollow}
    openGraph={{
      basic: {
        title: title,
        type: "website",
        image: `${siteUrl}${image}`,
        url: canonical || siteUrl,
      },
      optional: {
        description: description,
        siteName: siteName,
        locale: "en_US",
      },
      image: {
        url: `${siteUrl}${image}`,
        secureUrl: `${siteUrl}${image}`,
        type: "image/jpeg",
        width: 1200,
        height: 630,
        alt: `${author} - Data Scientist Portfolio`,
      },
      article: {
        publishedTime: "2024-01-01T00:00:00Z",
        modifiedTime: new Date().toISOString(),
        section: "Portfolio",
      },
    }}
    twitter={{
      card: "summary_large_image",
      site: twitterHandle,
      creator: twitterHandle,
      title: title,
      description: description,
      image: `${siteUrl}${image}`,
      imageAlt: `${author} - Data Scientist Portfolio`,
    }}
    extend={{
      meta: [
        { name: "viewport", content: "width=device-width, initial-scale=1.0" },
        { name: "mobile-web-app-capable", content: "yes" },
        { name: "apple-mobile-web-app-capable", content: "yes" },
        { name: "apple-mobile-web-app-status-bar-style", content: "default" },
        { name: "theme-color", content: "#D7ABC5" },
        { name: "msapplication-TileColor", content: "#D7ABC5" },
        { name: "msapplication-navbutton-color", content: "#D7ABC5" },
        { name: "keywords", content: "data scientist, machine learning, statistical analysis, data visualization, python, r, sql, analytics, business intelligence, deep learning, AI, data mining, predictive modeling, portfolio, shine gupta" },
        { name: "author", content: author },
        { name: "copyright", content: `Â© ${new Date().getFullYear()} ${author}. All rights reserved.` },
        { name: "robots", content: noindex || nofollow ? `${noindex ? 'noindex' : 'index'},${nofollow ? 'nofollow' : 'follow'}` : "index,follow" },
        { name: "geo.region", content: "US" },
        { name: "language", content: "en" },
        { name: "content-language", content: "en-us" },
        { name: "category", content: "Professional Portfolio" },
        { name: "classification", content: "Data Science Portfolio" },
        { name: "subject", content: "Data Science, Machine Learning, Analytics" },
        { property: "article:author", content: linkedinProfile },
        { property: "profile:first_name", content: author.split(' ')[0] },
        { property: "profile:last_name", content: author.split(' ')[1] || "" },
        { property: "og:locale:alternate", content: "en_GB" },
        { property: "og:see_also", content: linkedinProfile },
        { property: "linkedin:owner", content: linkedinProfile },
      ],
      link: [
        { rel: "icon", type: "image/x-icon", href: "/favicon.ico" },
        { rel: "icon", type: "image/png", sizes: "16x16", href: "/favicon-16x16.png" },
        { rel: "icon", type: "image/png", sizes: "32x32", href: "/favicon-32x32.png" },
        { rel: "apple-touch-icon", sizes: "180x180", href: "/apple-touch-icon.png" },
        { rel: "manifest", href: "/site.webmanifest" },
        { rel: "alternate", type: "application/rss+xml", title: `${siteName} RSS Feed`, href: `${siteUrl}/rss.xml` },
      ],
    }}
/>

<script type="application/ld+json" set:html={JSON.stringify(personSchema)} />
<script type="application/ld+json" set:html={JSON.stringify(websiteSchema)} />

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PRQ5PFVT');</script>
<!-- End Google Tag Manager -->